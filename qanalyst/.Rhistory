plot(rr_new)
plot(rr)
xb <- xbar_s(production,dim_mm,batch)
data("production")
xb <- xbar_s(production,dim_mm,batch)
rm(rr,rr_new)
rm(i)
library(qAnalyst)
xb_new <- xbar_s(production,dim_mm,batch)
library(qAnalyst)
xb_new <- xbar_s(production,dim_mm,batch)
head(xb)
head(xb_new)
plot(xb)
plot(xb_new)
plot(xb)
plot(xb_new)
plot(xb)
plot(xb_new)
rm(xb,xb_new)
rr <- r(ingots,kg,group)
library(qAnalyst)
rr_new <- r(ingots,kg,group)
head(rr)
head(rr_new)
plot(rr)
plot(rr_new)
plot(rr)
plot(rr_new)
sc <- s(production,dim_mm,batch)
rm(rr,rr_new)
library(qAnalyst)
sc_new <- s(production,dim_mm,batch)
head(sc)
head(sc_new)
plot(sc)
plot(sc_new)
plot(sc)
data("test_c")
cc <- c_chart(test_c,defect)
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
head(cc)
head(cc_new)
plot(cc)
plot(cc_new)
rm(sc,sc_new,cc,cc_new)
data("test_p")
pp <- p_chart(test_p,defect,sample_size)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
head(pp)
head(pp_new)
plot(pp)
plot(pp_new)
plot(pp)
plot(pp_new)
test_p
head(test_p)
center_fun <- function(x, g){sum(x) / sum(g)}
center_fun(test_p$defect,test_p$sample_size)
center_fun <- function(x){sum(x) / sum(g)}
asd <- center_fun(g=test_p$sample_size)
center_fun(2)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
head(pp_new)
head(pp)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
head(pp_new)
head(pp)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
head(pp_new)
?eval
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
library(qAnalyst)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
head(pp)
head(pp_new)
plot(pp)
plot(pp_new)
cc <- c_chart(test_c,defect)
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
head(cc)
head(cc_new)
plot(cc)
plot(cc_new)
data("test_i_mr")
mr <- mr_chart(test_i_mr,cost,mr_step=2)
library(qAnalyst)
mr_new <- mr_chart(test_i_mr,cost,mr_step=2)
head(mr)
head(mr_new)
plot(mr)
plot(mr_new)
mr$xlab
attr(pp,"x_lab") <- "defect"
pp$x_lab
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
pp_new$x_lab
attr(pp_new)
attr(pp_new,"x_lab")
?attr
data("ingots")
rr <- r(ingots,kg,groups())
rr <- r(ingots,kg,group
)
rr <- r(ingots,kg,group)
library(qAnalyst)
data("ingots")
rr <- r(ingots,kg,group)
library(qAnalyst)
rr_new <- r(ingots,kg,group)
identity(x)
identity(2:20)
?identity(2:20)
library(qAnalyst)
rr_new <- r(ingots,kg,group)
head(ingots)
head(r)
head(rr)
head(rr_new)
plot(rr)
plot(rr_new)
?sd
head(sd)
str(sd)
str(var)
head(var)
?var
library(qAnalyst)
rr_new <- r(ingots,kg,group)
library(qAnalyst)
rr_new <- r(ingots,kg,group)
debugonce(r(ingots,kg,group))
debugonce(r(ingots,kg,group))
library(qAnalyst)
rr_new <- r(ingots,kg,group)
head(rr)
head(rr_new)
plot(rr)
plot(rr_new)
data("test_i_mr")
ii <- i_chart(test_i_mr,cost,2)
plot(ii)
library(qAnalyst)
ii_new <- i_chart(test_i_mr,cost,2)
head(ii)
head(ii_new)
plot(ii)
plot(ii_new)
library(qAnalyst)
ii_new <- i_chart(test_i_mr,cost,2)
plot(ii_new)
head(ii_new)
head(ii)
ii == ii_new
head(ii)
head(ii_new)
mrr <- mr_chart(test_i_mr,cost,2)
rm(rr,rr_new)
rm(pp,pp_new)
rm(mr,mr_new)
rm(center_fun())
rm(center_fun
)
rm(cc,cc_new)
rm(ii_new)
rm(test_c,test_p)
rm(ingots,production)
library(qAnalyst)
mrr_new <- mr_chart(test_i_mr,cost,2)
ii_new <- i_chart(test_i_mr,cost,2)
head(ii)
head(ii_new)
ii == ii_new
plot(ii_new)
head(mrr)
head(mrr_new)
library(qAnalyst)
mrr_new <- mr_chart(test_i_mr,cost,2)
head(mrr_new)
head(mrr)
head(mrr_new)
mrr == mrr_new
NA == NA
NA == NA
NA == NA
plot(mrr)
plot(mrr_new)
mean(1:10)
mean(c(NA,1:10))
mean(c(NULL,1:10))
?NULL
plot(mrr)
NULL == NULL
plot(mrr_new)
as.numeric(NULL)
as.numeric(NULL) == 0
mean(1:10)
mean(c(rep(NULL,10),1:10))
c(rep(NULL,2),1:10)
data("ingots")
xrr <- xbar_r(ingots,kg,group)
library(qAnalyst)
xrr_new <- xbar_r(ingots,kg,group)
xrr == xrr_new
data("test_c")
cc <- c_chart(test_c,defect)
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
cc == cc_new
library(qAnalyst)
cc == cc_new
cc_new <- c_chart(test_c,defect)
cc == cc_new
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
cc == cc_new
plot(cc_new)
plot(cc)
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
cc == cc_new
plot(cc_new)
head(cc)
head(cc_new)
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
13.36471+
2
cc == cc_new
head(cc)
head(cc_new)
13.36471+19.84615
-13.36471+19.84615
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
cc == cc_new
plot(cc)
plot(cc_new)
data("test_u")
View(test_u)
rm(cc,cc_new,ii,ii_new,mrr,mrr_new)
rm(xrr,xrr_new)
rm(test_i_mr)
rm(ingots)
uu <- u_chart(test_u, non_conformities, number_of_inspection_units)
View(test_u)
uu <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
plot(uu)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
(1:10)/(1:10)
as.data.frame(1:10)/as.data.frame(1:10)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
d <- data.frame(a = c(rep(NULL,2),22,2),b = c(1:4))
d
d <- data.frame(a = c(rep(NULL,3),2),b = c(1:4))
d
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu == uu_new
library(lazyeval)
a <- interp(~n)
a
class(a)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu == uu_new
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu == uu_new
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu == uu_new
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
test_u$number_of_inspection_units[1]
class(test_u$number_of_inspection_units[1])
test_u$number_of_inspection_units[1]%%1
as.integer(9.2)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu == uu_new
?interp
data(ingots)
data("ingots")
xbr <- xbar_r(ingots,kg,group)
library(qAnalyst)
xbr_new <- xbar_r(ingots,kg,group)
xbr ==xbr_new
xbrs <- xbar_s(production, x = dim_mm, g = batch)
library(qAnalyst)
xbrs_new <- xbar_s(production, x = dim_mm, g = batch)
xbrs == xbr_new
xbrs == xbrs_new
rr <- r(ingots, kg, group)
library(qAnalyst)
rr_new <- r(ingots, kg, group)
rr == rr_new
library(qAnalyst)
wes_ <- function(data, x , g){
lcl <- "center - 3 * center * sqrt(1 - c4^2)/c4"
ucl <- "center + 3 * center * sqrt(1 - c4^2)/c4"
stat_fun <- sd
class <- "s"
n_min <- 8
n_max <- 25
#check that n > nmin & n <= n_max
test_n <- data %>% group_by_(g) %>% summarise_(n = ~n())
if(any(test_n$n < n_min)) stop(paste("Error, group size cannot be smaller that", n_min))
if(any(test_n$n > n_max)) stop(paste("Error, group size cannot be larger that", n_max))
###################################
#### No extra changes from here ###
###################################
## add stat, shape and n()
stat_dots   <- setNames(
list(interp( ~n()),
interp( ~stat_fun(x), x = as.name(x)),
interp( ~constant(n, c4))),
c("n", "stat", "c4")
)
stat_data <- data %>%
group_by_(g) %>%
summarise_(.dots = stat_dots)
## compute center , lcl and ucl
stat_data <- stat_data %>% mutate_( center = ~mean(stat),
lcl = lcl,
ucl = ucl)
##Filter
stat_data <- stat_data %>% select_( group = g, "n",  "stat", "center", "lcl", "ucl")
attr(stat_data, "class") <- c(class , "spc" , "tbl_df", "tbl", "data.frame")
#return
return(stat_data)
}
sv <- wes_(production, x = dim_mm, g = batch)
library(dplyr)
sv <- wes_(production, x = dim_mm, g = batch)
sv <- wes_(production, x = "dim_mm", g = "batch")
library(chartconstants)
sv <- wes_(production, x = "dim_mm", g = "batch")
sv_new <- s(production, x = dim_mm, g = batch)
sv == sv_new
rm(d,rr,rr_new,sv,sv_new)
rm(xbr,xbr_new)
rm(xbrs,xbrs_new)
rm(a)
rm(wes)
rm(wes_)
rm(uu,uu_new)
m <- mean(na.rm=T)
interp(~2)
cc <- c_chart(test_c,defect)
cc <- c_chart(test_c,defect)
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
cc == cc_new
head(cc)
head(cc_new)
library(qAnalyst)
cc_new <- c_chart(test_c,defect)
cc == cc_new
head(cc)
head(cc_new)
interp(~center_fun(stat, NA.rm=TRUE)
)
mrr <- mr_chart(test_i_mr,cost,2)
library(qAnalyst)
mrr_new <- mr_chart(test_i_mr,cost,2)
mrr == mrr_new
ii <- i_chart(test_i_mr,cost,2)
library(qAnalyst)
ii_new <- i_chart(test_i_mr,cost,2)
ii == ii_new
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
u_provola <- function(data, x, g){
ucl <- "center + 3 * sqrt(center / n)"
lcl <- "center - 3 * sqrt(center / n)"
center_fun <- function(x, g){sum(x) / sum(g)}
stat_fun <- function(x, g){x / g}
class <- "u_chart"
###################################
#### No extra changes from here ###
###################################
## add "group", "n", "stat", "center"
center_dots <- setNames(
list(
group = interp( ~row_number() ),
n = g,
interp( ~stat_fun(x, y), x = as.name(x), y = as.name(g) ),
interp( ~center_fun(x, y), x = as.name(x), y = as.name(g)) ),
c("group", "n", "stat", "center")
)
stat_data <- data %>% mutate_(.dots = center_dots)
# Add lcl and ucl
stat_data <- stat_data %>% mutate_(lcl = lcl, ucl = ucl)
# Filter
stat_data <- stat_data %>% select_("group","n","stat","center","lcl","ucl")
# Set class
attr(stat_data, "class") <- c(class , "spc" , "tbl_df", "tbl", "data.frame")
# set attributes
attr(stat_data, "x_lab") <- x
#return
return(stat_data)
}
uu <- u_provola(test_u, "total_number_nonconformities", "number_of_inspection_units")
uu == uu_new
head(uu)
head(uu_new)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu == uu_new
plot(uu)
plot(uu_new)
rm(cc,cc_new)
rm(ii,ii_new)
rm(mrr,mrr_new,uu,uu_new)
rm(u_provola)
rm(ingots)
rm(test_c,test_u)
data("test_p")
data("test_np")
uu <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
library(qAnalyst)
uu_new <- u_chart(test_u, total_number_nonconformities, number_of_inspection_units)
uu == uu_new
rm(uu,uu_new)
pp <- p_chart(test_p,defect,sample_size)
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
pp == pp_new
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
pp == pp_new
library(qAnalyst)
pp_new <- p_chart(test_p,defect,sample_size)
pp == pp_new
plot(pp == pp_new)
plot(pp == pp_new)
npp <- np_chart(test_np,non_conforming_cans,sample_size)
library(qAnalyst)
npp_new <- np_chart(test_np,non_conforming_cans,sample_size)
head(npp_new)
npp_new
npp_new
View(npp_new)
npp == npp_new
npp_new <- np_chart(test_np,non_conforming_cans,sample_size)
plot(npp)
plot(npp_new)
library(qAnalyst)
library(qAnalyst)
npp_new <- np_chart(test_np,non_conforming_cans,sample_size)
npp == npp_new
library(qAnalyst)
npp_new <- np_chart(test_np,non_conforming_cans,sample_size)
head(npp_new)
head(npp)
plot(npp)
plot(npp_new)
npp == npp_new
library(qAnalyst)
npp_new <- np_chart(test_np,non_conforming_cans,sample_size)
npp_new == npp
library(qAnalyst)
