###################################
## add "group", "n", "stat", "center"
center_dots <- setNames(
list(
group = interp( ~row_number() ),
1,
interp( ~stat_fun(x,step), x = as.name(x), step = mr_step ),
interp( ~center_fun(stat))),
c("group", "n", "stat", "center")
)
stat_data <- data %>% mutate_(.dots = center_dots)
# Add lcl and ucl
stat_data <- stat_data %>% mutate_(lcl = lcl, ucl = ucl)
# Filter
stat_data <- stat_data %>% select_("group","n","stat","center","lcl","ucl")
# Set class
attr(stat_data, "class") <- c(class , "spc" , "tbl_df", "tbl", "data.frame")
#return
return(stat_data)
}
i_rev <- mr_chart(test_i_mr,cost,2)
head(i_rev)
head(i)
mr_chart_ <- function(data,x,mr_step){
constant_D4 <- constant(mr_step,"D4")
constant_D3 <- constant(mr_step,"D3")
ucl <- "constant(mr_step,'D4')*center"#"3.267*center"
lcl <- "constant(mr_step,'D3')*center"#"0*center"
center_fun <- function(x){mean(x,na.rm = TRUE)}
stat_fun <- function(x,step){c(rep(NA,step-1),abs(diff(x,step-1)))}
class <- "mr_chart"
###################################
#### No extra changes from here ###
###################################
## add "group", "n", "stat", "center"
center_dots <- setNames(
list(
group = interp( ~row_number() ),
1,
interp( ~stat_fun(x,step), x = as.name(x), step = mr_step ),
interp( ~center_fun(stat))),
c("group", "n", "stat", "center")
)
stat_data <- data %>% mutate_(.dots = center_dots)
# Add lcl and ucl
stat_data <- stat_data %>% mutate_(lcl = lcl, ucl = ucl)
# Filter
stat_data <- stat_data %>% select_("group","n","stat","center","lcl","ucl")
# Set class
attr(stat_data, "class") <- c(class , "spc" , "tbl_df", "tbl", "data.frame")
#return
return(stat_data)
}
i_rev <- mr_chart(test_i_mr,cost,2)
mr_chart_ <- function(data,x,mr_step){
constant_D4 <- constant(mr_step,"D4")
constant_D3 <- constant(mr_step,"D3")
ucl <- "chartconstatns::constant(mr_step,'D4')*center"#"3.267*center"
lcl <- "chartconstants::constant(mr_step,'D3')*center"#"0*center"
center_fun <- function(x){mean(x,na.rm = TRUE)}
stat_fun <- function(x,step){c(rep(NA,step-1),abs(diff(x,step-1)))}
class <- "mr_chart"
###################################
#### No extra changes from here ###
###################################
## add "group", "n", "stat", "center"
center_dots <- setNames(
list(
group = interp( ~row_number() ),
1,
interp( ~stat_fun(x,step), x = as.name(x), step = mr_step ),
interp( ~center_fun(stat))),
c("group", "n", "stat", "center")
)
stat_data <- data %>% mutate_(.dots = center_dots)
# Add lcl and ucl
stat_data <- stat_data %>% mutate_(lcl = lcl, ucl = ucl)
# Filter
stat_data <- stat_data %>% select_("group","n","stat","center","lcl","ucl")
# Set class
attr(stat_data, "class") <- c(class , "spc" , "tbl_df", "tbl", "data.frame")
#return
return(stat_data)
}
i_rev <- mr_chart(test_i_mr,cost,2)
lcl <- 2
as.character(lcl)
mr_chart_ <- function(data,x,mr_step){
constant_D4 <- constant(mr_step,"D4")
constant_D3 <- constant(mr_step,"D3")
ucl <- "chartconstatns::constant(2,'D4')*center"#"3.267*center"
lcl <- "chartconstants::constant(2,'D3')*center"#"0*center"
center_fun <- function(x){mean(x,na.rm = TRUE)}
stat_fun <- function(x,step){c(rep(NA,step-1),abs(diff(x,step-1)))}
class <- "mr_chart"
###################################
#### No extra changes from here ###
###################################
## add "group", "n", "stat", "center"
center_dots <- setNames(
list(
group = interp( ~row_number() ),
1,
interp( ~stat_fun(x,step), x = as.name(x), step = mr_step ),
interp( ~center_fun(stat))),
c("group", "n", "stat", "center")
)
stat_data <- data %>% mutate_(.dots = center_dots)
# Add lcl and ucl
stat_data <- stat_data %>% mutate_(lcl = lcl, ucl = ucl)
# Filter
stat_data <- stat_data %>% select_("group","n","stat","center","lcl","ucl")
# Set class
attr(stat_data, "class") <- c(class , "spc" , "tbl_df", "tbl", "data.frame")
#return
return(stat_data)
}
i_rev <- mr_chart(test_i_mr,cost,2)
mr_chart_ <- function(data,x,mr_step){
constant_D4 <- constant(mr_step,"D4")
constant_D3 <- constant(mr_step,"D3")
ucl <- "chartconstants::constant(2,'D4')*center"#"3.267*center"
lcl <- "chartconstants::constant(2,'D3')*center"#"0*center"
center_fun <- function(x){mean(x,na.rm = TRUE)}
stat_fun <- function(x,step){c(rep(NA,step-1),abs(diff(x,step-1)))}
class <- "mr_chart"
###################################
#### No extra changes from here ###
###################################
## add "group", "n", "stat", "center"
center_dots <- setNames(
list(
group = interp( ~row_number() ),
1,
interp( ~stat_fun(x,step), x = as.name(x), step = mr_step ),
interp( ~center_fun(stat))),
c("group", "n", "stat", "center")
)
stat_data <- data %>% mutate_(.dots = center_dots)
# Add lcl and ucl
stat_data <- stat_data %>% mutate_(lcl = lcl, ucl = ucl)
# Filter
stat_data <- stat_data %>% select_("group","n","stat","center","lcl","ucl")
# Set class
attr(stat_data, "class") <- c(class , "spc" , "tbl_df", "tbl", "data.frame")
#return
return(stat_data)
}
i_rev <- mr_chart(test_i_mr,cost,2)
head(i_rev)
head(i)
library(qAnalyst)
library(qAnalyst)
i_rev <- mr_chart(test_i_mr,cost,2)
head(i_rev)
library(qAnalyst)
i_rev <- mr_chart(test_i_mr,cost,2)
i_rev <- mr_chart(test_i_mr,cost,2)
library(qAnalyst)
i_rev <- mr_chart(test_i_mr,cost,2)
head(i_rev)
library(qAnalyst)
i_rev <- mr_chart(test_i_mr,cost,2)
head(i_rev)
mr_chart(test_i_mr,cost,2)
mr_chart(test_i_mr,cost,3)
mr_chart(test_i_mr,cost,1)
mr_chart(test_i_mr,cost,5)
i_rev <- mr_chart(test_i_mr,cost,2)
plot(i_rev)
head(i_rev)
head(i)
?mean
rm(mr_chart())
rm(mr_chart
)
rm(mr_chart_)
rm(lcl)
library(qAnalyst)
i_rev <- i_chart(test_i_mr,cost,2)
library(qAnalyst)
i_rev <- i_chart(test_i_mr,cost,2)
library(chartconstants)
i_rev <- i_chart(test_i_mr,cost,2)
library(qAnalyst)
i_rev <- i_chart(test_i_mr,cost,2)
constant(2,"d2")
library(qAnalyst)
i_rev <- i_chart(test_i_mr,cost,2)
head(i_rev)
head(i)
constant(2,"d2")
plot(i_rev)
plot(i)
plot(i_rev)
plot(i)
plot(i_rev)
library("chartconstants", lib.loc="~/R/win-library/3.2")
library(qAnalyst)
i_rev <- i_chart(test_i_mr,cost,2)
head(i)
head(i_rev)
i_rev <- mr_chart(test_i_mr,cost,2)
head(i_rev)
head(i)
i_rev <- i_chart(test_i_mr,cost,2)
head(i_rev)
head(i)
library(qAnalyst)
i_rev <- i_chart(test_i_mr,cost,2)
i_rev <- mr_chart(test_i_mr,cost,2)
head(i_rev)
library(qAnalyst)
mr_chart(test_i_mr,cost,2)
library(qAnalyst)
mr <- mr_chart(test_i_mr,cost,2)
head(mr)
library(qAnalyst)
mr <- mr_chart(test_i_mr,cost,2)
head(mr)
library(qAnalyst)
i <- i_chart(test_i_mr,cost,mr_step=2)
head(i)
plot(i)
plot(mr)
library(qAnalyst)
library(qAnalyst)
i <- i_chart(test_i_mr,cost,mr_step=2)
head(i)
i_2 <- set_center(i,302)
library(qAnalyst)
i <- i_chart(test_i_mr,cost,mr_step=2)
i_2 <- set_center(i,302)
head(i_2)
i_2 <- set_center(i,center=302)
head(i_2)
library(dplyr)
?replace
library(qAnalyst)
i_2 <- set_center(i,new_center=302)
head(i_2)
library(qAnalyst)
i_2 <- set_center(i,new_center=302)
library(qAnalyst)
i_2 <- set_center(i,new_center=302)
head(i_2)
i_2 <- set_lcl(i,new_lcl=280)
head(i_2)
#' set_ucl
#'
#' Set ucl parameters in control chart object
#'
#' @param data an object of class spc
#' @param new_ucl a single value (constant ucl) or a numeric vector
#' @importFrom dplyr %>% mutate
#' @return An object of class spc
#' @export
#'
set_lcl <- function(data, new_ucl){
stat_data <- data %>% mutate(ucl = new_ucl)
return(stat_data)
}
library(qAnalyst)
head(i_2)
i_2 <- set_center(i,new_center=300)
head(i_2)
i_2 <- set_ucl(i,new_ucl=320)
library(qAnalyst)
is
head(i2)
rm(i_2)
rm(i_rev)
i
head(i)
i_rev <- set_center(i,new_center=1)
i_rev
head(i_rev)
i_rev <- set_lcl(i,2)
head(i_Rev)
head(i_rev)
i_rev <- set_ucl(i_rev,3)
i_rev <- set_center(i_rev,1)
head(i_rev)
i_rev <- set_lcl(i_rev,2)
head(i_rev)
head(i)
rm(i_rev)
i_rev <- set_center(i,1)
i_rev <- set_lcl(i_rev,2)
i_rev <- set_ucl(i_rev,3)
head(i_rev)
i_rev <- set_lcl(i_rev,2)
head(i_rev)
i_rev <- set_center(i_rev,1:20)
i_rev
i_rev <- set_lcl(i_rev,1:20)
i_rev
data %>% select(lcl)
data %>% select_(lcl)
i %>% select_(lcl)
i %>% select_(ucl)
i %>% select(ucl)
i %>% select(lcl)
i_rev %>% select(lcl)
i_rev %>% select(ucl)
i_rev <- set_lcl(i_rev,1:20)
i_rev %>% select(lcl)
?c
?C
P?
)
?P
?p
library(qAnalyst)
pc_2 <- set_p_chart_param(pc,0.5)
pc_2 <- set_p_chart_param(pc,0.5)
library(qAnalyst)
pc_2 <- set_p_chart_param(pc,0.5)
head(pc_2)
pc
library(qAnalyst)
pc_2 <- set_p_chart_param(pc,0.5)
head(pc_2)
plot(pc2)
plot(pc_2)
plot.spc(pc_2)
class(pc_2)
library(qAnalyst)
pc_2 <- set_p_chart_param(pc,0.5)
head(pc_2)
plot(pc_2)
library(qAnalyst)
head(pc)
head(pc_2)
set_param(pc,0.5)
library(qAnalyst)
library(qAnalyst)
rm(i_rev)
rm(pc_rev)
rm(set_lcl)
i
head(i)
i2 <- set_center(i,1)
i2 <- set_lcl(i2,2)
i2 <- set_ucl(i2,3)
head(i2)
class(i2)
rm(list=ls())
library(qAnalyst)
data(ingots)
xr <- xbar_r(ingots,kg,group)
library(chartconstants)
c4_fun <- constant(,cname='c4')
c4_fun <- constant(n,cname='c4')
rm(list=ls())
data("ingots")
data("production")
s_chart <- s(production,dim_mm,batch)
head(s_chart)
library(qAnalyst)
s_chart_rev <- s(production,dim_mm,batch)
head(s_chart)
head(s_chart_rev)
rm(s_chart,s_chart_rev)
r_chart <- r(ingots,kg,group)
head(r_chart)
library(qAnalyst)
r_chart_rev <- r(ingots,kg,group)
head(r_chart)
head(r_chart_rev)
data("ccc")
View(ccc)
D3 <- function(n){max((1-3*constant(n,"d3")/constant(n,"d2")),0)}
D3(10)
constant(10,"D3")
constant(,"D3")
constant(,"D3")
constant(5,"D3")
constant(6,"D3")
constant(7,"D3")
D3(7)
constant(6,"D3")
library(qAnalyst)
library(qAnalyst)
r_chart_rev <- r(ingots,kg,group)
library(qAnalyst)
r_chart_rev <- r(ingots,kg,group)
head(r_chart)
head(r_chart_rev)
library(qAnalyst)
r_chart_rev <- r(ingots,kg,group)
head(r_chart)
head(r_chart_rev)
rm(r_chart,r_chart_rev)
rm(D3)
library(qAnalyst)
data("ingots")
xbars <- xbar_s(production,dim_mm,batch)
head(xbars)
library(qAnalyst)
xbars_rev <- xbar_s(production,dim_mm,batch)
library(qAnalyst)
xbars_rev <- xbar_s(production,dim_mm,batch)
head(xbars)
head(xbars_rev)
A2 <- function(n){3/(constant(n,"d2")*sqrt(n))}
A2(2)
A2(3)
A2(4)
A2(5)
A2(6)
A2(7)
A2(8)
A2(9)
A2(10)
A2(11)
A2(12)
library(qAnalyst)
xbarr <- xbar_r(ingots,kg,group)
rm(A2)
rm(xbars,xbars_rev)
rm(cc)
head(xbarr)
xbarr_rev <- xbar_r(ingots,kg,group)
rm(xbarr)
library(qAnalyst)
xbarr <- xbar_r(ingots,kg,group)
head(xbarr)
head(xbarr_rev)
library(qAnalyst)
xbarr_rev <- xbar_r(ingots,kg,group)
head(xbarr)
head(xbarr_rev)
rm(xbarr,xbarr_rev)
11.35
for(i in 1:10){print(i)}
for(i in 1:20){print(1-constant(i,"c4")^2)}
for(i in 2:25){print(1-constant(i,"c4")^2)}
library(qAnalyst)
data(ingots)
data("production")
s_c <- s(production,dim_mm,batch)
head(s_c)
s_c_rev <- set_param(s_c,0.4)
library(qAnalyst)
s_c_rev <- set_param(s_c,0.4)
library(qAnalyst)
s_c_rev <- set_param(s_c,0.4)
plot(s_c)
select_(s_c,-batch)
library(dplyr)
select_(s_c,-batch)
select(s_c,-batch)
library(qAnalyst)
s_c_rev <- set_param(s_c,0.4)
library(qAnalyst)
library(qAnalyst)
s_c_rev <- set_param(s_c,0.4)
head(s_c_rev)
constant(10,"c4")
library(qAnalyst)
constant(10,"c4")
s_c_rev <- set_param(s_c,0.4)
head(s_c_rev)
head(s_c)
constant(10,"c4")*0.4
library(qAnalyst)
data("test_p")
View(test_p)
p_carta <- p_chart(test_p,defect,sample_size)
head(p_carta)
plot(p_carta)
?p_chart
library(qAnalyst)
rm(ccc,s_c,s_c_rev,i)
xbarr <- xbar_r(ingots,kg,groups)
xbarr <- xbar_r(ingots,kg,group)
head(xbarr)
plot(xbarr)
xbars <- xbar_s (production, x = dim_mm, g = batch)
plot(xbars)
head(xbars)
library(qAnalyst)
xbars <- xbar_s (production, x = dim_mm, g = batch)
plot(xbars)
head(xbars)
rc <- r(ingots, kg, group)
head(rc)
plot(rc)
sc <- s(production,dim_mm,batch)
plot(sc)
library(qAnalyst)
sc <- s(production,dim_mm,batch)
plot(sc)
head(sc)
data("test_c")
data("test_p")
data("test_i_mr")
cc <- c_chart(test_c,defect)
head(cc)
plot(cc)
pp <-p_chart(test_p,defect,sample_size)
head(pp)
plot(pp)
mr <-mr_chart(test_i_mr, cost, mr_step = 2)
head(mr)
plot(mr)
ii <- i_chart(test_i_mr,cost,2)
head(ii)
plot(ii)
rm(cc,ii,rc,sc,)
rm(mr,xbarr,xbars,pp)
